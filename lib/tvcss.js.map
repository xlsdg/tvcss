{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 347f6ed34eda058252e4","webpack:///./src/index.js"],"names":["tvcss","window","init","dpr","devicePixelRatio","minWidth","maxWidth","designWidth","eTvcss","document","querySelector","config","getAttribute","_initialDpr","match","parseFloat","_minWidth","_maxWidth","_designWidth","documentElement","setAttribute","scale","content","eViewport","createElement","head","appendChild","px2rem","px","parseInt","rem2px","rem","resize","innerWidth","getBoundingClientRect","width","docStyle","style","fontSize","callback","update","e","clearTimeout","tid","setTimeout","destroy","addEventListener","persisted","readyState"],"mappings":"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","file":"tvcss.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"tvcss\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"tvcss\"] = factory();\n\telse\n\t\troot[\"tvcss\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 347f6ed34eda058252e4","\nconst tvcss = window.tvcss || {};\n\n(function() {\n  if (window.tvcss) {\n    return;\n  }\n\n  tvcss.init = function() {\n    let dpr = window.devicePixelRatio || 1;\n    let minWidth = 0;\n    let maxWidth = 0;\n    let designWidth = 0;\n\n    dpr = (dpr >= 3) ? 3 : ((dpr >= 2) ? 2 : 1);\n\n    const eTvcss = document.querySelector('meta[name=\"tvcss\"]');\n    if (eTvcss) {\n      const config = eTvcss.getAttribute('content');\n      if (config) {\n        const _initialDpr = config.match(/initial\\-dpr=([\\d\\.]+)/);\n        if (_initialDpr) {\n          dpr = parseFloat(_initialDpr[1]);\n        }\n\n        const _minWidth = config.match(/min\\-width=([\\d\\.]+)/);\n        if (_minWidth) {\n          minWidth = parseFloat(_minWidth[1]);\n        }\n\n        const _maxWidth = config.match(/max\\-width=([\\d\\.]+)/);\n        if (_maxWidth) {\n          maxWidth = parseFloat(_maxWidth[1]);\n        }\n\n        const _designWidth = config.match(/design\\-width=([\\d\\.]+)/);\n        if (_designWidth) {\n          designWidth = parseFloat(_designWidth[1]);\n        }\n      }\n    }\n\n    document.documentElement.setAttribute('data-dpr', dpr);\n    tvcss.dpr = dpr;\n\n    if (minWidth) {\n      document.documentElement.setAttribute('min-width', minWidth);\n    }\n    tvcss.minWidth = minWidth;\n\n    if (maxWidth) {\n      document.documentElement.setAttribute('max-width', maxWidth);\n    }\n    tvcss.maxWidth = maxWidth;\n\n    if (designWidth) {\n      document.documentElement.setAttribute('design-width', designWidth);\n    }\n    tvcss.designWidth = designWidth;\n\n    const scale = (1 / dpr);\n    const content = `width=device-width, initial-scale=${scale}, minimum-scale=${scale}, maximum-scale=${scale}, user-scalable=no, minimal-ui`;\n\n    let eViewport = document.querySelector('meta[name=\"viewport\"]');\n    if (eViewport) {\n      eViewport.setAttribute('content', content);\n    } else {\n      eViewport = document.createElement('meta');\n      eViewport.setAttribute('name', 'viewport');\n      eViewport.setAttribute('content', content);\n      document.head.appendChild(eViewport);\n    }\n  };\n\n  tvcss.px2rem = function(px, designWidth) {\n    if (!designWidth) {\n      designWidth = parseInt(tvcss.designWidth, 10);\n    }\n    return (parseInt(px, 10) * 320 / designWidth / 20);\n  };\n\n  tvcss.rem2px = function(rem, designWidth) {\n    if (!designWidth) {\n      designWidth = parseInt(tvcss.designWidth, 10);\n    }\n    return (parseFloat(rem) * 20 * designWidth / 320);\n  };\n\n  tvcss.resize = function() {\n    let innerWidth = document.documentElement.getBoundingClientRect().width\n      || window.innerWidth;\n\n    if (tvcss.maxWidth && (innerWidth / tvcss.dpr > tvcss.maxWidth)) {\n      innerWidth = tvcss.maxWidth * tvcss.dpr;\n    } else if (tvcss.minWidth && (innerWidth / tvcss.dpr < tvcss.minWidth)) {\n      innerWidth = tvcss.minWidth * tvcss.dpr;\n    }\n\n    if (!innerWidth) {\n      return false;\n    }\n\n    const docStyle = document.documentElement.style;\n    const fontSize = `${innerWidth * 20 / 320}px`;\n\n    if (!docStyle.fontSize || (docStyle.fontSize !== fontSize)) {\n      docStyle.fontSize = fontSize;\n      tvcss.callback && tvcss.callback();\n    }\n  };\n\n  tvcss.update = function(e) {\n    window.clearTimeout(tvcss.tid);\n    tvcss.tid = window.setTimeout(tvcss.resize, 33);\n  };\n\n  tvcss.destroy = function() {};\n\n  tvcss.init();\n\n  window.addEventListener('pageshow', function(e) {\n    if (e.persisted) {\n      tvcss.update();\n    }\n  }, false);\n\n  window.addEventListener('resize', tvcss.update, false);\n  window.addEventListener('load', tvcss.resize, false);\n\n  if (document.readyState === 'complete') {\n    tvcss.resize();\n  } else {\n    document.addEventListener('DOMContentLoaded', tvcss.resize, false);\n  }\n\n  tvcss.tid = window.setTimeout(tvcss.resize, 333);\n\n  window.tvcss = tvcss;\n\n})();\n\nexport default tvcss;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}