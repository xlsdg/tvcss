!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("tvcss",[],e):"object"==typeof exports?exports.tvcss=e():t.tvcss=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var d=n[i]={exports:{},id:i,loaded:!1};return t[i].call(d.exports,d,d.exports,e),d.loaded=!0,d.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=window.tvcss||{};!function(){window.tvcss||(n.init=function(){var t=window.devicePixelRatio||1,e=0,i=0,d=0;t=t>=3?3:t>=2?2:1;var o=document.querySelector('meta[name="tvcss"]');if(o){var r=o.getAttribute("content");if(r){var a=r.match(/initial\-dpr=([\d\.]+)/);a&&(t=parseFloat(a[1]));var s=r.match(/min\-width=([\d\.]+)/);s&&(e=parseFloat(s[1]));var c=r.match(/max\-width=([\d\.]+)/);c&&(i=parseFloat(c[1]));var u=r.match(/design\-width=([\d\.]+)/);u&&(d=parseFloat(u[1]))}}document.documentElement.setAttribute("data-dpr",t),n.dpr=t,e&&document.documentElement.setAttribute("min-width",e),n.minWidth=e,i&&document.documentElement.setAttribute("max-width",i),n.maxWidth=i,d&&document.documentElement.setAttribute("design-width",d),n.designWidth=d;var m=1/t,p="width=device-width, initial-scale="+m+", minimum-scale="+m+", maximum-scale="+m+", user-scalable=no, minimal-ui",l=document.querySelector('meta[name="viewport"]');l?l.setAttribute("content",p):(l=document.createElement("meta"),l.setAttribute("name","viewport"),l.setAttribute("content",p),document.head.appendChild(l))},n.px2rem=function(t,e){return e||(e=parseInt(n.designWidth,10)),320*parseInt(t,10)/e/20},n.rem2px=function(t,e){return e||(e=parseInt(n.designWidth,10)),20*parseFloat(t)*e/320},n.resize=function(){var t=document.documentElement.getBoundingClientRect().width||window.innerWidth;if(n.maxWidth&&t/n.dpr>n.maxWidth?t=n.maxWidth*n.dpr:n.minWidth&&t/n.dpr<n.minWidth&&(t=n.minWidth*n.dpr),!t)return!1;var e=document.documentElement.style,i=20*t/320+"px";e.fontSize&&e.fontSize===i||(e.fontSize=i,n.callback&&n.callback())},n.update=function(t){window.clearTimeout(n.tid),n.tid=window.setTimeout(n.resize,33)},n.destroy=function(){},n.init(),window.addEventListener("pageshow",function(t){t.persisted&&n.update()},!1),window.addEventListener("resize",n.update,!1),window.addEventListener("load",n.resize,!1),"complete"===document.readyState?n.resize():document.addEventListener("DOMContentLoaded",n.resize,!1),n.tid=window.setTimeout(n.resize,333),window.tvcss=n)}(),e.default=n,t.exports=e.default}])});
//# sourceMappingURL=tvcss.min.js.map